{% extends 'base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block stylesheets %}
    <!-- Bootstrap core CSS -->
    <link href="{{ asset('assets/nl/css/sb-admin-2.min.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/bootstrap-toggle.min.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/nl/vendor/fontawesome-free/css/all.min.css') }}" rel="stylesheet">
    <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">

    <link href="{{ asset('assets/css/custom_bootstrap_style.css') }}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{ asset('assets/css/jumbotron.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/custom_dropdown.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/animate.min.css') }}" rel="stylesheet" />

    
    <link href="{{ asset('assets/sunburstchart/css/style.css') }}" rel="stylesheet" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <link href="{{ asset('assets/vmap/css/jquery-jvectormap-2.0.2.css') }}" rel="stylesheet" />
    
    
    {% if not app.user %}
        <!-- Guided Tour LH-->
        <link href="{{ asset('guidedtour/dist/css/hopscotch.min.css') }}" rel="stylesheet"></link>
        <link href="{{ asset('guidedtour/css/flat-ui.css') }}" rel="stylesheet"></link>
        <link href="{{ asset('guidedtour/css/demo.css') }}" rel="stylesheet"></link>
    {% endif %}
{% endblock %}

{% block body %}
	<div class="container-fluid">
		
        <div class="row">
            <!-- tutorial aria -->
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div
                    class="card-header bg-dark text-white py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold">Videos tutorials</h6>
                    {# <div class="dropdown no-arrow">
                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                            aria-labelledby="dropdownMenuLink">
                            <div class="dropdown-header">Dropdown Header:</div>
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </div> #}
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="row">
                        <div class="col-xl-8 col-lg-7">
                            <video width="100%" controls="controls" id="videoPlayer" preload="metadata">
                                Your browser does not support the video tag.
                            </video>
                            </br>
                            <button type="button" id="prev" class="btn btn-dark btn-sm">&laquo Prev</button>
                            <button type="button" id="next" class="btn btn-dark btn-sm">Next &raquo</button>
                        </div>

                        <div class="col-xl-4 col-lg-3">
                            <ul id="playlist" class="list-group-flush video_list_scroll_bar">
                                <li class="list-group-item">
                                    <a href="{{ asset('assets/videos/tutorials/harnesstom_user_intro_tutorial.mp4') }}">
                                        Introduction to HarnessTom
                                    </a>
                                </li>

                                <li class="list-group-item">
                                    <a href="http://www.w3schools.com/html/movie.mp4">
                                        3 School Movie
                                    </a>
                                </li>

                                <li class="list-group-item">
                                    <a href="http://www.w3schools.com/html/mov_bbb.mp4">
                                        Mov 3B
                                    </a>
                                </li>

                                <li class="list-group-item">
                                    <a href="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4">
                                        ElephantsDream
                                    </a>
                                </li>

                                <li class="list-group-item">
                                    <a href="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4">
                                        ForBiggerBlazes
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end tutorial area -->
        </div>
	    <!-- .row -->
    </div>
    <!-- .container -->
{% endblock %}


{% block javascripts %}
	<script src="{{ asset('assets/js/jquery-3.5.1.js') }}"></script>
    <script src="{{ asset('assets/nl/vendor/jquery/jquery.min.js') }}"></script>
    <script src="{{ asset('assets/nl/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>

    <!-- Core plugin JavaScript-->
    <script src="{{ asset('assets/nl/vendor/jquery-easing/jquery.easing.min.js') }}"></script>

    <!-- Custom scripts for all pages-->
    <script src="{{ asset('assets/nl/js/sb-admin-2.min.js') }}"></script>

    <!-- Page level plugins -->
    <script src="{{ asset('assets/nl/vendor/chart.js/Chart.min.js') }}"></script>

    <script src="{{ asset('assets/nl/js/jquery-match-height-0.7.2.min.js') }}"></script>
    <script src="{{ asset('assets/nl/js/main.js') }}"></script>

    {% if not app.user %}
        <!-- Guided Tour LH  -->
        <script src="{{ asset('guidedtour/js/jquery-1.10.2.js') }}"></script>
        <script src="{{ asset('guidedtour/dist/js/hopscotch.js') }}"></script>
        <script src="{{ asset('guidedtour/js/demo.js') }}"></script>
    {% endif %}

      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        var myVids = [
            "{{ asset('assets/videos/tutorials/harnesstom_user_intro_tutorial.mp4') }}",
            "http://www.w3schools.com/html/movie.mp4","http://www.w3schools.com/html/mov_bbb.mp4",
            "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
            "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"
            ];

        var i = 0;
        var prevBtn = document.getElementById('prev');
        var nextBtn = document.getElementById('next');
        var videoPlayer = document.getElementById('videoPlayer');
        videoPlayer.src = myVids[0]+"#t=0.7";

        // for the ul li playlist. start of the ul li playlist tracks
        var playlist = document.getElementById("playlist");
        // get the tracks
        var tracks = playlist.getElementsByTagName('a');
        // have a loop on all the tracks to listen to the clicked one
        Array.from(tracks).forEach((track, index) => {
            track.addEventListener('click', function(e){
                e.preventDefault();
                // clicked source
                videoPlayer.src = this.getAttribute('href');
                videoPlayer.play();
                i = index;
            });
        });
        // end of the ul li playlist tracks

        videoPlayer.onended = function(){
            videoPlayer.src = myVids[i+1];
            videoPlayer.play();
            i++;
            if (i >= myVids.length) {
            i = 0;
            videoPlayer.src = myVids[i];
            videoPlayer.play();
            i++;
            }  
        }

        // prev button 
        prevBtn.addEventListener('click',function(){
            if (i <= 0) {
            videoPlayer.src = myVids[myVids.length-1];
            videoPlayer.play();
            i = myVids.length-1;
            } 
            else {
            videoPlayer.src = myVids[i-1];
            videoPlayer.play();
            i--;
            }
        },false);
        
        // next button 
        nextBtn.addEventListener('click',function(){
            if (i >= myVids.length) {
            videoPlayer.src = myVids[1];
            videoPlayer.play();
            i = 1;
            } else if (i + 1 == myVids.length) {
            videoPlayer.src = myVids[0];
            videoPlayer.play();
            i++;
            }
            else {
            videoPlayer.src = myVids[i+1];
            videoPlayer.play();
            i++;
            }
        },false);
    </script>
    
      
{% endblock %}